<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Snake Game</title>
  <style>
    body { margin:0; display:flex; justify-content:center; align-items:center; height:100vh; background:#111; }
    canvas { background:#000; }
    #score { color:#fff; position:absolute; top:10px; left:10px; font-family:Arial,Helvetica,sans-serif; }
  </style>
</head>
<body>
  <div id="score">Score: 0</div>
  <canvas id="game" width="400" height="400"></canvas>
  <script>
    const canvas = document.getElementById('game');
    const ctx = canvas.getContext('2d');
    const grid = 20; // size of each cell
    const count = canvas.width / grid;
    let snake = [{x:5, y:5}];
    let dir = {x:1, y:0};
    let apple = {x:10, y:10};
    let score = 0;
    function getRandomApple(){
      return {x: Math.floor(Math.random()*count), y: Math.floor(Math.random()*count)};
    }
    function loop(){
      // move head
      const head = {x: snake[0].x + dir.x, y: snake[0].y + dir.y};
      // wrap around edges
      head.x = (head.x + count) % count;
      head.y = (head.y + count) % count;
      // check self-collision
      for(let part of snake){ if(part.x===head.x && part.y===head.y){ reset(); return; } }
      snake.unshift(head);
      // check apple
      if(head.x===apple.x && head.y===apple.y){
        score++;
        document.getElementById('score').textContent = 'Score: '+score;
        apple = getRandomApple();
      } else {
        snake.pop();
      }
      // draw
      ctx.fillStyle = '#000';
      ctx.fillRect(0,0,canvas.width,canvas.height);
      ctx.fillStyle = '#0f0';
      snake.forEach(p=> ctx.fillRect(p.x*grid, p.y*grid, grid-1, grid-1));
      ctx.fillStyle = '#f00';
      ctx.fillRect(apple.x*grid, apple.y*grid, grid-1, grid-1);
    }
    function reset(){
      snake = [{x:5,y:5}];
      dir = {x:1,y:0};
      apple = getRandomApple();
      score = 0;
      document.getElementById('score').textContent = 'Score: 0';
    }
    document.addEventListener('keydown', e=>{
      switch(e.key){
        case 'ArrowUp': if(dir.y===0){dir={x:0,y:-1}}; break;
        case 'ArrowDown': if(dir.y===0){dir={x:0,y:1}}; break;
        case 'ArrowLeft': if(dir.x===0){dir={x:-1,y:0}}; break;
        case 'ArrowRight': if(dir.x===0){dir={x:1,y:0}}; break;
      }
    });
    setInterval(loop, 100);
  </script>
</body>
</html>
